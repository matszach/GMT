<script src='./../gmt.js'></script>
<style>*{margin: 0;}</style>

<div id='myDiv' style="height: 100%; width: 100%;"></div>

<script>

// var cw = new Gmt.CanvasWrapper('myDiv').setUnitSize(2).setOffset(40, 10); 

// var pline = new Gmt.PolyLine(Gmt.randInt(0, 600), Gmt.randInt(0, 300));

// Gmt.echo(255, 10, (i) => {
//     cw.fill(Gmt.rgb(255 - i, 0, i));
//     cw.fillRect(new Gmt.Rectangle(i, i/2, 300, 200), Gmt.rgb(0, i, 255 - i));
//     cw.strokeRect(new Gmt.Rectangle(200 + i, i/4, 200, 260), Gmt.rgb(i, 255 - i, 0), 3 + i / 10);
//     cw.strokeSegment(new Gmt.Segment(10, 10, i, i),  Gmt.rgb(i, 0, 255 - i), 30 - i / 10);
//     cw.fillCircle(new Gmt.Circle(i + 100, i * 0.6, i * 0.7), Gmt.rgb(0, 255 - i, 255 - i), 10);
//     cw.strokeCircle(new Gmt.Circle(i, i * 0.75, i), Gmt.rgb(i, 255 - i, 255 - i), 10);
//     if(Gmt.chance(0.05)) pline.add(Gmt.randInt(0, 600), Gmt.randInt(0, 300));
//     cw.strokePolyLine(pline, Gmt.rgba(i, i, i, 0.7), 5);
// });

// console.log(
//     Gmt.Intersection.segments(
//         new Gmt.Segment(0, 0, 5, 5), new Gmt.Segment(0, 5, 5, 0)
//     )
// );

// var table = new Gmt.Table2D(10, 10);
// table.iter((x, y) => table.put(x, y, x + y));
// var slice = table.slice(2, 2, 3, 5);
// console.log(table, slice);

// table.iterSlice(2, 2, 2, 2, (x, y, e) => console.log(x, y, e));


// var aw = new Gmt.AudioWrapper('s-ooze.mp3');
// console.log(aw, aw.getDuration());
// setTimeout(() => aw.play().volumeEaseTo(0, 8000).rateEaseTo(0.1, 8000), 2000);
// setTimeout(() => aw.pause(), 10000);

// var tileSet = new Gmt.TileSet('monsters.png', 64, 64, 4);

// let i = 0;
// Gmt.Thread.start(200, () => {
//     i += 5;
//     cw.fill(Gmt.rgb(0, 0, 0));
//     cw.drawTile(
//         tileSet.get(Gmt.randInt(0, 11), Gmt.randInt(0, 7)), 
//         new Gmt.Rectangle(50 + i/100, 50 + i/50, 100 + i/20, 100 + i/10), 
//         Gmt.PI * i/100,
//         Gmt.random());
// });

// var cw = new Gmt.CanvasWrapper('myDiv').setUnitSize(0.75).setOffset(10, 10);
// var tileSet = new Gmt.TileSet('monsters.png', 64, 64, 4);

// Gmt.Interval.start(100, () => {
//     Gmt.iter2D(150, 100, (x, y) => {
//         cw.drawTile(
//             tileSet.get(Gmt.randInt(0, 11), Gmt.randInt(0, 7)),
//             new Gmt.Rectangle(x * 10, y * 10, 10, 10)
//         )
//     });
// });

// var cw = new Gmt.CanvasWrapper('myDiv').setUnitSize(2);
// Gmt.Interval.start(100, () => {
//     cw.fill(Gmt.rgb(0, 0, 0));
//     Gmt.iter2D(150, 100, (x, y) => {
//         cw.write(
//             Gmt.randInt(0, 9),
//             x * 10, 
//             y * 10,
//             Gmt.rgb(0, 200, 0)
//         )
//     });
// });


// Gmt.Input.init();
// new Gmt.Loop(60, (loop) => {
//     if(Gmt.Input.key('Space')) {
//         console.log('wubwubwub');
//     }
//     if(Gmt.Input.keys('KeyA', 'KeyB')) {
//         console.log('abababababa');
//     }
// }).start();


// Gmt.Input.init();
// new Gmt.Loop(1, (loop) => {
//     console.log(Gmt.Input.mouseButtons());
// }).start();



// var cw = new Gmt.CanvasWrapper('myDiv');
// var sw1 = cw.getSubWrapper().setUnitSize(2);
// var sw2 = cw.getSubWrapper().setUnitSize(3);
// var sw3 = cw.getSubWrapper().setUnitSize(4);

// new Gmt.Loop(60, loop => {
//     cw.fill(Gmt.rgb(0, 0, 0));
//     let i = loop.getFrame();
//     let r = new Gmt.Rectangle(i/10, i/10, 25, 25);
//     sw3.fillRect(r, Gmt.rgb(50, 0, 0));
//     sw2.fillRect(r, Gmt.rgb(100, 0, 0));
//     sw1.fillRect(r, Gmt.rgb(150, 0, 0));
//     cw.fillRect(r, Gmt.rgb(200, 0, 0));
// }).start();

var cw = new Gmt.CanvasWrapper('myDiv');
new Gmt.Loop(60, loop => {
    let i = loop.getFrame();
    cw.fill(cw.linearGradient(
        new Gmt.Vertex(0, 0),
        new Gmt.Vertex(i, i),
        0, Gmt.rgb(i % 255, 0, 0),
        0.5, Gmt.rgb(0, i % 255, 0),
        1, Gmt.rgb(0, 0, i % 255)
    ));
}).start();

</script>